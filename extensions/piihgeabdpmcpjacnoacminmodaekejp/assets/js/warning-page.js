$JQ.warning=function(){var e={init:function(){e.urlWhitelist=[];var t=e.getExtensionApi();e.hydrateCategoryDescriptionEnum(),t.storage.local.get("dont-block-whitelist",function(t){void 0!==t["dont-block-whitelist"]&&(e.urlWhitelist=JSON.parse(t["dont-block-whitelist"]),void 0),e.populateContent(),$JQ(document).on("click","#safe-search-continue",function(t){e.continueToUrl(t)}),$JQ(document).on("click","#back-to-safety",function(t){e.backToSafety(t)})})},populateContent:function(){var t=e.getUrlParams("url"),n=e.getUrlParams("threat"),i=$JQ(".blocked-content-injector"),a=e.getExtensionApi(),r=i.html().replace("{title}",a.i18n.getMessage("warningPage_title")).replace("{subTitle}",a.i18n.getMessage("warningPage_subTitle")).replace("{categoryLabel}",a.i18n.getMessage("warningPage_categoryLabel")).replace("{backToSafety}",a.i18n.getMessage("warningPage_backToSafety")).replace("{visitWebsite}",a.i18n.getMessage("warningPage_visitWebsite")).replace("{whitelistText}",a.i18n.getMessage("warningPage_whitelistText")).replace("{url}",t).replace("{linkurl}",t).replace("{short-url}",t).replace("{category}",e.enum.threatType[n].name).replace("{description}",e.enum.threatType[n].description);i.html(r)},continueToUrl:function(t){t.preventDefault();var n=$JQ(t.currentTarget),i=n.parents(".blocked-content-injector").find("#trustUrl"),a=e.getExtensionApi(),r=i.data("url"),o=-1!=n.attr("href").indexOf("?")?"&":"?",g=n.attr("href")+o+"SafeSearchIgnore",s=n.attr("target");if(0!=g.indexOf("http")&&(g="http://"+g),i.is(":checked")){r=r.replace("https://www.","").replace("http://www.","").replace("https://","").replace("http://","").replace(/^www\./g,"");var c=new RegExp(/(\/.*)/,"g"),l=c.exec(r);null!=l&&(r=r.replace(l[0],"")),void 0,void 0,-1==$JQ.inArray(r,e.urlWhitelist)?(e.urlWhitelist.push(r),a.runtime.sendMessage("ljeoncllgjickobhpgkfaogcmogkagjg",JSON.stringify({whitelist:e.urlWhitelist}),function(e){void 0,window.open(g,s)}),a.storage.local.set({"dont-block-whitelist":JSON.stringify(e.urlWhitelist)},function(e){void 0})):window.open(g,s)}else window.open(g,s)},backToSafety:function(e){e.preventDefault();try{window.history.go(-1)}catch(e){window.open("https://search.scanguard.com/","_self")}},getExtensionApi:function(){return"undefined"!=typeof browser?browser:"undefined"!=typeof chrome?chrome:(void 0,null)},getUrlParams:function(e){void 0;var t,n,i=window.location.search.substring(1),a=i.split("&");for(n=0;n<a.length;n++)if(t=a[n].split("="),t[0]===e)return void 0===t[1]||decodeURIComponent(t[1])},hydrateCategoryDescriptionEnum:function(){e.enum={threatEntryType:{THREAT_ENTRY_TYPE_UNSPECIFIED:{},URL:{},IP_RANGE:{},EXECUTABLE:{}},platformType:{PLATFORM_TYPE_UNSPECIFIED:{},WINDOWS:{},LINUX:{},ANDROID:{},OSX:{},IOS:{},ANY_PLATFORM:{},ALL_PLATFORMS:{},CHROME:{}},category:{},threatType:{SAFE:{name:"No Threat",description:""},THREAT_TYPE_UNSPECIFIED:{name:e.getExtensionApi().i18n.getMessage("warningPage_categoryName_THREAT_TYPE_UNSPECIFIED"),description:e.getExtensionApi().i18n.getMessage("warningPage_categoryDescription_THREAT_TYPE_UNSPECIFIED")},VIRUSINFECTED:{name:e.getExtensionApi().i18n.getMessage("warningPage_categoryName_VIRUSINFECTED"),description:e.getExtensionApi().i18n.getMessage("warningPage_categoryDescription_VIRUSINFECTED")},SPYWARE:{name:e.getExtensionApi().i18n.getMessage("warningPage_categoryName_SPYWARE"),description:e.getExtensionApi().i18n.getMessage("warningPage_categoryDescription_SPYWARE")},PHISHING:{name:e.getExtensionApi().i18n.getMessage("warningPage_categoryName_PHISHING"),description:e.getExtensionApi().i18n.getMessage("warningPage_categoryDescription_PHISHING")},MALWARE:{name:e.getExtensionApi().i18n.getMessage("warningPage_categoryName_MALWARE"),description:e.getExtensionApi().i18n.getMessage("warningPage_categoryDescription_MALWARE")},SOCIAL_ENGINEERING:{name:e.getExtensionApi().i18n.getMessage("warningPage_categoryName_SOCIAL_ENGINEERING"),description:e.getExtensionApi().i18n.getMessage("warningPage_categoryDescription_SOCIAL_ENGINEERING")},UNWANTED_SOFTWARE:{name:e.getExtensionApi().i18n.getMessage("warningPage_categoryName_UNWANTED_SOFTWARE"),description:e.getExtensionApi().i18n.getMessage("warningPage_categoryDescription_UNWANTED_SOFTWARE")},POTENTIALLY_HARMFUL_APPLICATION:{name:e.getExtensionApi().i18n.getMessage("warningPage_categoryName_POTENTIALLY_HARMFUL_APPLICATION"),description:e.getExtensionApi().i18n.getMessage("warningPage_categoryDescription_POTENTIALLY_HARMFUL_APPLICATION")}}}}};return e.init(),e}();