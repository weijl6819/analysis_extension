/*

     Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
     This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
     The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
     The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
     Code distributed by Google as part of the polymer project is also
     subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
define(function(){function p(d){function b(a){if("object"!==typeof this||"function"!==typeof a)throw new TypeError;this.c=this.a=null;this.b=[];g(a,h.bind(this),e.bind(this))}function n(a){var c=this;null===this.a?this.b.push(a):d(function(){var b=c.a?a.f:a.g;if("function"!==typeof b)(c.a?a.resolve:a.reject)(c.c);else{var f;try{f=b(c.c)}catch(m){a.reject(m);return}a.resolve(f)}})}function h(a){try{if(a===this)throw new TypeError;if(a&&("object"===typeof a||"function"===typeof a)){var c=a.then;if("function"===
typeof c){g(c.bind(a),h.bind(this),e.bind(this));return}}this.a=!0;this.c=a;k.call(this)}catch(q){e.call(this,q)}}function e(a){this.a=!1;this.c=a;k.call(this)}function k(){for(var a=0,c=this.b.length;a<c;a++)n.call(this,this.b[a]);this.b=null}function g(a,c,b){var f=!1;try{a(function(a){f||(f=!0,c(a))},function(a){f||(f=!0,b(a))})}catch(m){f||(f=!0,b(m))}}b.prototype["catch"]=function(a){return this.then(null,a)};b.prototype.then=function(a,c){var d=this;return new b(function(b,e){n.call(d,{f:a,
g:c,resolve:b,reject:e})})};b.resolve=function(a){return a&&"object"===typeof a&&a.constructor===b?a:new b(function(b){b(a)})};b.reject=function(a){return new b(function(b,d){d(a)})};return b}var l=null;"function"===typeof Promise?l=Promise:(l=p("function"===typeof setImmediate?setImmediate:function(d){setTimeout(d,0)}),window.Promise=l);(function(d){d.all=d.all||function(){var b=Array.prototype.slice.call(1===arguments.length&&Array.isArray(arguments[0])?arguments[0]:arguments);return new d(function(d,
h){function e(a,c){try{if(c&&("object"===typeof c||"function"===typeof c)){var g=c.then;if("function"===typeof g){g.call(c,function(b){e(a,b)},h);return}}b[a]=c;--k||d(b)}catch(f){h(f)}}if(!b.length)return d([]);for(var k=b.length,g=0;g<b.length;g++)e(g,b[g])})};d.race=d.race||function(b){return new d(function(d,h){for(var e=0,k=b.length;e<k;e++)b[e].then(d,h)})}})(l);return l});
