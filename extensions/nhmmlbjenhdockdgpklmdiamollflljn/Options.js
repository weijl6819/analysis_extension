!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}var o=n(9),a=i(o),s=n(5),u=(r(s),n(11)),c=i(u);!function(){var t=document.querySelector("#notificationsEnabled");t.checked=a.areNotificationsEnabled(),t.addEventListener("change",function(t){return a.setNotificationsEnabled(t.target.checked)}),document.querySelector("#testNotification").addEventListener("click",c.testNotification)}()},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(t){return t&&t.__esModule?t:{"default":t}}function o(t){t.innerHTML="",a().forEach(function(e){var n=e.thumbnail||"images/placeholder100.png",r=w.default("article",{"class":"Latest-article"},w.default("div",{"class":"Latest-unreadIndicator"+(e.unread?" is-unread":"")},w.default("img",{src:"images/unread.svg",alt:"Unread"})),w.default("div",{"class":"Latest-thumbnailWrapper"},w.default("button",{type:"button","class":"is-link"},w.default("img",{src:n,alt:e.title}))),w.default("h3",w.default("button",{type:"button","class":"is-link"},e.title))),i=function(){c(e.id),r.querySelector(".Latest-unreadIndicator").classList.remove("is-unread")},o=function(t){t.preventDefault(),t.stopPropagation(),i(),chrome.tabs.create({url:e.link})};r.addEventListener("click",function(t){t.preventDefault(),t.stopPropagation(),i()}),r.querySelector(".Latest-thumbnailWrapper button").addEventListener("click",o),r.querySelector("h3 button").addEventListener("click",o),t.appendChild(r)})}function a(){return y.getArticles().sort(function(t,e){return e.date-t.date})}function s(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];n?y.setArticles(t.map(function(t){return t.unread=!1,t})):e?!function(){var e=a().filter(function(t){return{id:t.id,unread:t.unread}}).reduce(function(t,e){return t[e.id]=e.unread,t},{}),n=t.map(function(t){return"undefined"!=typeof e[t.id]&&(t.unread=e[t.id]),t});y.setArticles(n)}():y.setArticles(t)}function u(){var t=arguments.length<=0||void 0===arguments[0]?function(){}:arguments[0];y.setArticles(a().map(function(t){return t.unread=!1,t})),v.clearNotifications(),t()}function c(t){var e=a();e.some(function(n,r){if(n.id===t){if(e[r].unread){e[r].unread=!1,s(e);var i=y.getLastNotification();("multi"===i.type||i.lastId===t)&&v.clearNotifications()}return!0}return!1})}function l(t,e){d.default.get(h.default.feedUrl).end(function(n,r){if(r.ok){void 0;var i=m.getParser(h.default.parser)(r.text);s(i,!0,e)}else void 0;t()})}Object.defineProperty(e,"__esModule",{value:!0}),e.populate=o,e.getArticles=a,e.setArticles=s,e.markAllAsRead=u,e.markAsRead=c,e.fetchArticles=l;var f=n(2),d=i(f),p=n(5),h=i(p),m=n(6),g=n(9),y=r(g),v=n(11),b=n(12),w=i(b)},function(t,e,n){function r(){}function i(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function o(t){return t===Object(t)}function a(t){if(!o(t))return t;var e=[];for(var n in t)null!=t[n]&&e.push(encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e.join("&")}function s(t){for(var e,n,r={},i=t.split("&"),o=0,a=i.length;a>o;++o)n=i[o],e=n.split("="),r[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return r}function u(t){var e,n,r,i,o=t.split(/\r?\n/),a={};o.pop();for(var s=0,u=o.length;u>s;++s)n=o[s],e=n.indexOf(":"),r=n.slice(0,e).toLowerCase(),i=y(n.slice(e+1)),a[r]=i;return a}function c(t){return t.split(/ *; */).shift()}function l(t){return m(t.split(/ *; */),function(t,e){var n=e.split(/ *= */),r=n.shift(),i=n.shift();return r&&i&&(t[r]=i),t},{})}function f(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=u(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function d(t,e){var n=this;h.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new f(n)}catch(r){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=r,n.callback(t)}if(n.emit("response",e),t)return n.callback(t,e);if(e.status>=200&&e.status<300)return n.callback(t,e);var i=new Error(e.statusText||"Unsuccessful HTTP response");i.original=t,i.response=e,i.status=e.status,n.callback(i,e)})}function p(t,e){return"function"==typeof e?new d("GET",t).end(e):1==arguments.length?new d("GET",t):new d(t,e)}var h=n(3),m=n(4),g="undefined"==typeof window?this||self:window;p.getXHR=function(){if(!(!g.XMLHttpRequest||g.location&&"file:"==g.location.protocol&&g.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var y="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};p.serializeObject=a,p.parseString=s,p.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},p.serialize={"application/x-www-form-urlencoded":a,"application/json":JSON.stringify},p.parse={"application/x-www-form-urlencoded":s,"application/json":JSON.parse},f.prototype.get=function(t){return this.header[t.toLowerCase()]},f.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=c(e);var n=l(e);for(var r in n)this[r]=n[r]},f.prototype.parseBody=function(t){var e=p.parse[this.type];return e&&t&&(t.length||t instanceof Object)?e(t):null},f.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},f.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot "+e+" "+n+" ("+this.status+")",i=new Error(r);return i.status=this.status,i.method=e,i.url=n,i},p.Response=f,h(d.prototype),d.prototype.use=function(t){return t(this),this},d.prototype.timeout=function(t){return this._timeout=t,this},d.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},d.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},d.prototype.set=function(t,e){if(o(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},d.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},d.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},d.prototype.type=function(t){return this.set("Content-Type",p.types[t]||t),this},d.prototype.accept=function(t){return this.set("Accept",p.types[t]||t),this},d.prototype.auth=function(t,e){var n=btoa(t+":"+e);return this.set("Authorization","Basic "+n),this},d.prototype.query=function(t){return"string"!=typeof t&&(t=a(t)),t&&this._query.push(t),this},d.prototype.field=function(t,e){return this._formData||(this._formData=new g.FormData),this._formData.append(t,e),this},d.prototype.attach=function(t,e,n){return this._formData||(this._formData=new g.FormData),this._formData.append(t,e,n),this},d.prototype.send=function(t){var e=o(t),n=this.getHeader("Content-Type");if(e&&o(this._data))for(var r in t)this._data[r]=t[r];else"string"==typeof t?(n||this.type("form"),n=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==n?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return!e||i(t)?this:(n||this.type("json"),this)},d.prototype.callback=function(t,e){var n=this._callback;this.clearTimeout(),n(t,e)},d.prototype.crossDomainError=function(){var t=new Error("Origin is not allowed by Access-Control-Allow-Origin");t.crossDomain=!0,this.callback(t)},d.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},d.prototype.withCredentials=function(){return this._withCredentials=!0,this},d.prototype.end=function(t){var e=this,n=this.xhr=p.getXHR(),o=this._query.join("&"),a=this._timeout,s=this._formData||this._data;this._callback=t||r,n.onreadystatechange=function(){if(4==n.readyState){var t;try{t=n.status}catch(r){t=0}if(0==t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var u=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),e.emit("progress",t)};this.hasListeners("progress")&&(n.onprogress=u);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=u)}catch(c){}if(a&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},a)),o&&(o=p.serializeObject(o),this.url+=~this.url.indexOf("?")?"&"+o:"?"+o),n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof s&&!i(s)){var l=this.getHeader("Content-Type"),f=p.serialize[l?l.split(";")[0]:""];f&&(s=f(s))}for(var d in this.header)null!=this.header[d]&&n.setRequestHeader(d,this.header[d]);return this.emit("request",this),n.send(s),this},d.prototype.then=function(t,e){return this.end(function(n,r){n?e(n):t(r)})},p.Request=d,p.get=function(t,e,n){var r=p("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},p.head=function(t,e,n){var r=p("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},p.del=function(t,e){var n=p("DELETE",t);return e&&n.end(e),n},p.patch=function(t,e,n){var r=p("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},p.post=function(t,e,n){var r=p("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},p.put=function(t,e,n){var r=p("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},t.exports=p},function(t,e){function n(t){return t?r(t):void 0}function r(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}t.exports=n,n.prototype.on=n.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(e),this},n.prototype.once=function(t,e){function n(){r.off(t,n),e.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=e,this.on(t,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[t];if(!n)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n){n=n.slice(0);for(var r=0,i=n.length;i>r;++r)n[r].apply(this,e)}return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length}},function(t,e){t.exports=function(t,e,n){for(var r=0,i=t.length,o=3==arguments.length?n:t[r++];i>r;)o=e.call(null,o,t[r],++r,t);return o}},function(t,e){t.exports={name:"ubuntu",title:"OMG! Ubuntu!",directory:"ubuntu",manifest:"ubuntu",minify:!0,parser:"xml",notificationTag:"omgUbuntu",homepage:"http://www.omgubuntu.co.uk",feedUrl:"http://www.omgubuntu.co.uk/?feed=titles",aboutText:'<p>We\'re the world\'s largest Linux-orientated site on the web, bringing the latest news, reviews and tutorials to over 2 million unique readers a month.</p><p>But we\'re more than just a website &ndash; we\'re also a vibrant community, boasting over 200,000 subscribers across <a href="http://twitter.com/omgubuntu" title="OMG! Ubuntu! on Twitter">Twitter</a>, <a href="http://facebook.com/omgubuntu" title="OMG! Ubuntu! on Facebook">Facebook</a>, <a href="http://youtube.com/omgubuntu" title="OMG! Ubuntu! on Youtube">Youtube</a> and more.</p><p>And by using this extension, you\'re part of that, too!</p><p>OMG! Ubuntu! is part of <strong><a href="http://ohso.io" title="Ohso Ltd">Ohso Ltd</a></strong>, a UK-based media and software publishing company founded in 2010.</p>'}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t){var e=(new DOMParser).parseFromString(t,"application/xml"),n=e.querySelector("channel");if(!n)return[];var r=n.querySelectorAll("item");return r?Array.prototype.map.call(r,function(t){var e=t.querySelector("thumbnail"),n=~~u.default.parse(u.default.extract(t.querySelector("guid").textContent)).p,r={title:t.querySelector("title").textContent,link:t.querySelector("link").textContent,date:Date.parse(t.querySelector("pubDate").textContent),id:n,unread:!0};return e&&(r.thumbnail=e.getAttribute("url")),r}):[]}function a(t){switch(t){case"xml":default:return o}}Object.defineProperty(e,"__esModule",{value:!0}),e.xmlParse=o,e.getParser=a;var s=n(7),u=r(s),c=function l(t){var e=t.title,n=t.link,r=t.date,o=t.id,a=t.unread;i(this,l),this.title=e,this.link=n,this.date=r,this.id=o,this.unread=a};e.Article=c},function(t,e,n){"use strict";var r=n(8);e.extract=function(t){return t.split("?")[1]||""},e.parse=function(t){return"string"!=typeof t?{}:(t=t.trim().replace(/^(\?|#|&)/,""),t?t.split("&").reduce(function(t,e){var n=e.replace(/\+/g," ").split("="),r=n[0],i=n[1];return r=decodeURIComponent(r),i=void 0===i?null:decodeURIComponent(i),t.hasOwnProperty(r)?Array.isArray(t[r])?t[r].push(i):t[r]=[t[r],i]:t[r]=i,t},{}):{})},e.stringify=function(t){return t?Object.keys(t).sort().map(function(e){var n=t[e];return Array.isArray(n)?n.sort().map(function(t){return r(e)+"="+r(t)}).join("&"):r(e)+"="+r(n)}).filter(function(t){return t.length>0}).join("&"):""}},function(t,e){"use strict";t.exports=function(t){return encodeURIComponent(t).replace(/[!'()*]/g,function(t){return"%"+t.charCodeAt(0).toString(16)})}},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function i(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];return t&&localStorage.version!==g&&o(),localStorage.version||0}function o(){localStorage.version=g}function a(){return"undefined"==typeof localStorage.notificationsEnabled&&(localStorage.notificationsEnabled=!0),"true"===localStorage.notificationsEnabled}function s(t){localStorage.notificationsEnabled=t}function u(){return"undefined"==typeof localStorage.pollInterval&&(localStorage.pollInterval=y),~~localStorage.pollInterval}function c(t){localStorage.pollInterval=t}function l(){return localStorage.notification?JSON.parse(localStorage.notification):{type:"multi",lastId:0}}function f(t){localStorage.notification=JSON.stringify(t)}function d(){return JSON.parse(localStorage.articles||"[]")}function p(t){m.updateIcon(t),localStorage.articles=JSON.stringify(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.getVersion=i,e.setVersion=o,e.areNotificationsEnabled=a,e.setNotificationsEnabled=s,e.getPollInterval=u,e.setPollInterval=c,e.getLastNotification=l,e.setLastNotification=f,e.getArticles=d,e.setArticles=p;var h=n(10),m=r(h),g="3";e.latestVersion=g;var y=9e5;e.defaultPollInterval=y},function(t,e){"use strict";function n(t){var e=t.filter(function(t){return t.unread}).length;0===e?(r(""),i("images/icon_inactive38.png")):(r(""+e),i("images/icon_active38.png"))}function r(t){chrome.browserAction.setBadgeText({text:t})}function i(t){chrome.browserAction.setIcon({path:t})}Object.defineProperty(e,"__esModule",{value:!0}),e.updateIcon=n,e.setBadgeText=r,e.setIcon=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function o(){a({title:"Ten Times Kittens with Mittens Melted Our Hearts",id:0,link:m.default.homepage}),setTimeout(l,5e3)}function a(t){var e={type:"basic",title:"New article on "+m.default.title,message:t.title,iconUrl:"images/icon_logo128.png"};m.default.opera||(e.buttons=[{title:"Read",iconUrl:"images/read.png"},{title:"Mark As Read",iconUrl:"images/mark_as_read.png"}]),t.thumbnail&&!m.default.opera&&(e.type="image",e.imageUrl=t.thumbnail),p.setLastNotification({type:"single",lastId:t.id,article:t}),u(e)}function s(t){var e={type:"list",title:t.length+" new articles on "+m.default.title,message:'"'+t[0].title+'" and '+(t.length-1)+" other "+(t.length-1===1?"article":"articles"),iconUrl:"images/icon_logo128.png",items:t.map(function(t){return{title:t.title,message:""}})};m.default.opera||(e.buttons=[{title:"Read",iconUrl:"images/read.png"},{title:"Mark All As Read",iconUrl:"images/mark_as_read.png"}]),p.setLastNotification({type:"multi",lastId:t[0].id}),u(e)}function u(t){chrome.notifications.create(v,t,function(){})}function c(){if(p.areNotificationsEnabled()){var t=[],e=p.getLastNotification().lastId;y.getArticles().some(function(n){return n.id===e?!0:(t.push(n),!1)});var n=t.filter(function(t){return t.unread});n.length&&(n.length>1?s(n):a(n[0]))}}function l(){var t=arguments.length<=0||void 0===arguments[0]?function(){}:arguments[0];chrome.notifications.clear(v,t)}function f(){chrome.notifications.onShowSettings.addListener(function(){return chrome.windows.create({url:"/options.html",focused:!0})}),chrome.notifications.onClicked.addListener(function(t){var e=p.getLastNotification();if("single"===e.type){var n=e.article;y.markAsRead(n.id),window.open(n.link)}else y.markAllAsRead(),window.open(m.default.homepage);l()}),chrome.notifications.onButtonClicked.addListener(function(t,e){void 0;var n=p.getLastNotification();if("single"===n.type){var r=n.article;y.markAsRead(r.id),0===e&&window.open(r.link)}else y.markAllAsRead(),0===e&&window.open(m.default.homepage);l()})}Object.defineProperty(e,"__esModule",{value:!0}),e.testNotification=o,e.single=a,e.multi=s,e.notifyUnread=c,e.clearNotifications=l,e.init=f;var d=n(9),p=i(d),h=n(5),m=r(h),g=n(1),y=i(g),v="OMG_NEW_NOTIFICATION"},function(t,e,n){!function(e,n){t.exports=n()}(this,function(){function t(){var r,f=arguments,d=f[0],m=f[1],g=2,y=f.length,v=t[a];if(d=t[u](d)?d:c.createElement(d),1===y)return d;if((!l(m,n)||t[s](m)||p(m))&&(--g,m=null),y-g===1&&l(f[g],"string")&&void 0!==d[i])d[i]=f[g];else for(;y>g;++g)if(r=f[g],null!=r)if(p(r))for(var b=0;b<r.length;++b)h(d,r[b]);else h(d,r);for(var w in m)if(v[w]){var _=v[w];typeof _===e?_(d,m[w]):d[o](_,m[w])}else d[o](w,m[w]);return d}var e="function",n="object",r="nodeType",i="textContent",o="setAttribute",a="attrMap",s="isNode",u="isElement",c=typeof document===n?document:{},l=function(t,e){return typeof t===e},f=typeof Node===e?function(t){return t instanceof Node}:function(t){return t&&l(t,n)&&r in t&&l(t.ownerDocument,n)},d=function(e){return t[s](e)&&1===e[r]},p=function(t){return t instanceof Array},h=function(e,n){t[s](n)||(n=c.createTextNode(n)),e.appendChild(n)};return t[a]={},t[u]=d,t[s]=f,t})}]);