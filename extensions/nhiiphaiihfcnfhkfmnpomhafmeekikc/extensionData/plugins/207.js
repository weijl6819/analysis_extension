
(function(){if(typeof $jquery_171==="undefined"){return;}var d=$jquery_171;function c(f){return true;}function b(g,f){f=appAPI.utils.isFunction(f)?f:c;return d.map(g,function(h){return f(h)?h:null;});}function a(f){f.getList=(function(){var g=f.getList;return function(h){h=h||{};return b(g.call(f),h.predicate);};}());f.getKeys=(function(){var g=f.getKeys;return function(h){h=h||{};return b(g.call(f),h.predicate);};}());f.removeAll=(function(){var g=f.removeAll;return function(h){if(!appAPI.utils.isObject(h)){return g.call(f);}d.each(f.getList(h),function(j,k){f.remove(k.key);});};}());}function e(g){g.getList=(function(){var h=g.getList;return function(i){if(appAPI.utils.isFunction(i)){return h.call(g,i);}if(!appAPI.utils.isObject(i)||!appAPI.utils.isFunction(i.callback)){return;}h.call(g,function(j){i.callback(b(j,i.predicate));});};}());g.getKeys=(function(){var h=g.getKeys;return function(i){if(appAPI.utils.isFunction(i)){return h.call(g,i);}if(!appAPI.utils.isObject(i)||!appAPI.utils.isFunction(i.callback)){return;}h.call(g,function(j){i.callback(b(j,i.predicate));});};}());function f(i){var h=new d.Deferred();g.remove(i,function(j){h.resolve(j);});return h.promise();}g.removeAll=(function(){var h=g.removeAll;return function(i){if(!appAPI.utils.isObject(i)){return h.call(g,i);}g.getList({callback:function(k){var j=d.map(k,function(l){return f(l.key);});d.when.apply(d,j).then(i.callback);},predicate:i.predicate});};}());}a(appAPI.db);a(appAPI.internal.db);e(appAPI.db.async);e(appAPI.internal.db.async);}());
