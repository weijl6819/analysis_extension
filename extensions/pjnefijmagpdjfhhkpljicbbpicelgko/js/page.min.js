// function x(a) {
//     E = a.target;
//     var l = a.pageX + "px",
//         t = a.pageY + "px";
//     var i = new Image();
//     i.addEventListener("click", g); 
//     i.src = chrome.extension.getURL("images/clock.png");
//     var e = document.createElement('div');
//     e.setAttribute("id", "hello1234");
//     e.style.position = "absolute";
//     e.style.left = l;
//     e.style.top = t;
//     e.style.zIndex = 999;
//     e.append(d);
//     document.body.appendChild(e);
// }
// function g() {
//     chrome.runtime.sendMessage({
//         message_id: "start_recording"
//     });
//     n();
// }
// function n() {}
function y(){$("#voicebox").fadeOut("slow")}function z(e){$(document.activeElement).is(F)&&($("#voicebox").fadeIn("fast"),document.getElementById("voicebox").innerHTML=e)}function A(e){$(document.activeElement).is(F)&&(E=document.activeElement,i(e),$("#voicebox").fadeOut("slow"))}function i(e){if(e.length>0){var t=B(E,6),n=t.length>0&&" "==t[t.length-1]||t[t.length-1]==String.fromCharCode(160)
return t=X(t),(Z(t,ia)||0==t.length||""==t||void 0==t||"null"===t)&&(e=Y(e)),t.length>0&&!n&&[ha,"("].indexOf(t[t.length-1])===-1&&[".",",",";",":","?","!",")"].indexOf(e[0])===-1&&(e=" "+e),D(E,e),e.length}return 0}function B(e,t){var n,a=""
switch(e.tagName){case"INPUT":case"TEXTAREA":var r=e.value
n=e.selectionStart
var i=Math.max(0,n-t)
a=r.substring(i,n)
break
case"DIV":default:var o=window.getSelection().getRangeAt(0)
if(o.collapse(!1),o.collapsed){n=o.startOffset
var i=Math.max(0,n-t)
a=o.startContainer.textContent.substring(n-t,n+1)}}return a}function C(){var e=window.getSelection().getRangeAt(0)
return e.collapsed?e.startContainer.textContent.substring(0,e.startOffset+1).split(/\b/g).pop():""}function D(e,t){var n,a
switch(e.tagName){case"INPUT":case"TEXTAREA":e.blur(),e.focus(),$.event.trigger({type:"keypress"}),a=e.selectionStart,n=e.value,e.value=n.substring(0,a)+t+n.substring(a),a+=t.length,_(e,a),e.blur(),e.focus(),$.event.trigger({type:"keypress"})
break
case"DIV":var r,i,o
window.getSelection?(r=window.getSelection(),r.getRangeAt&&r.rangeCount&&(i=r.getRangeAt(0),i.deleteContents(),o=document.createTextNode(t),i.insertNode(o),i.collapse(!0),i.setStart(o,t.length),i.setEnd(o,t.length),r.removeAllRanges(),r.addRange(i))):document.selection&&document.selection.createRange}}var E,F="input[type=text], input[type=url], input[type=search], textarea, div[contenteditable=true], .editable"
$(F).contextmenu(function(e){E=e.target}),chrome.runtime.onMessage.addListener(function(e,t){switch(e.action){case"on_results":A(e.txtToAdd)
break
case"on_interim_results":z(e.txtToAdd)}})
var G=document.createElement("DIV")
G.setAttribute("id","voicebox_container")
var mirrorX=document.createElement("div")
mirrorX.setAttribute("id","voicebox"),G.appendChild(mirrorX),document.getElementsByTagName("body")[0].appendChild(G)
