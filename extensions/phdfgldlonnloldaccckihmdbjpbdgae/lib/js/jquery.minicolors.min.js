!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){"use strict";function b(b,c){var f,g,h,j,k,d=a('<div class="minicolors" />'),e=a.minicolors.defaults;if(!b.data("minicolors-initialized")){if(c=a.extend(!0,{},e,c),d.addClass("minicolors-theme-"+c.theme).toggleClass("minicolors-with-opacity",c.opacity).toggleClass("minicolors-no-data-uris",c.dataUris!==!0),void 0!==c.position&&a.each(c.position.split(" "),function(){d.addClass("minicolors-position-"+this)}),f="rgb"===c.format?c.opacity?"25":"20":c.keywords?"11":"7",b.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",c).prop("size",f).wrap(d).after('<div class="minicolors-panel minicolors-slider-'+c.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div class="minicolors-dots-btn"></div></div></div></div>'),c.inline||(b.after('<span class="minicolors-swatch minicolors-sprite minicolors-input-swatch"><span class="minicolors-swatch-color"></span></span>'),b.next(".minicolors-input-swatch").on("click",function(a){a.preventDefault(),b.focus()})),j=b.parent().find(".minicolors-panel"),j.on("selectstart",function(){return!1}).end(),c.swatches&&0!==c.swatches.length)for(c.swatches.length>7&&(c.swatches.length=7),j.addClass("minicolors-with-swatches"),g=a('<ul class="minicolors-swatches"></ul>').appendTo(j),k=0;k<c.swatches.length;++k)h=c.swatches[k],h=r(h)?o(h,!0):z(n(h,!0)),a('<li class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></li>').appendTo(g).data("swatch-color",c.swatches[k]).find(".minicolors-swatch-color").css({backgroundColor:v(h),opacity:h.a}),c.swatches[k]=h;c.inline&&b.parent().addClass("minicolors-inline"),i(b,!1),b.data("minicolors-initialized",!0)}}function c(a){var b=a.parent();a.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),b.before(a).remove()}function d(a){var b=a.parent(),c=b.find(".minicolors-panel"),d=a.data("minicolors-settings");!a.data("minicolors-initialized")||a.prop("disabled")||b.hasClass("minicolors-inline")||b.hasClass("minicolors-focus")||(e(),b.addClass("minicolors-focus"),c.stop(!0,!0).fadeIn(d.showSpeed,function(){d.show&&d.show.call(a.get(0))}))}function e(){a(".minicolors-focus").each(function(){var b=a(this),c=b.find(".minicolors-input"),d=b.find(".minicolors-panel"),e=c.data("minicolors-settings");d.fadeOut(e.hideSpeed,function(){e.hide&&e.hide.call(c.get(0)),b.removeClass("minicolors-focus")})})}function f(a,b,c){var m,n,o,p,d=a.parents(".minicolors").find(".minicolors-input"),e=d.data("minicolors-settings"),f=a.find("[class$=-picker]"),h=a.offset().left,i=a.offset().top,j=Math.round(b.pageX-h),k=Math.round(b.pageY-i),l=c?e.animationSpeed:0;b.originalEvent.changedTouches&&(j=b.originalEvent.changedTouches[0].pageX-h,k=b.originalEvent.changedTouches[0].pageY-i),0>j&&(j=0),0>k&&(k=0),j>a.width()&&(j=a.width()),k>a.height()&&(k=a.height()),a.parent().is(".minicolors-slider-wheel")&&f.parent().is(".minicolors-grid")&&(m=75-j,n=75-k,o=Math.sqrt(m*m+n*n),p=Math.atan2(n,m),0>p&&(p+=2*Math.PI),o>75&&(o=75,j=75-75*Math.cos(p),k=75-75*Math.sin(p)),j=Math.round(j),k=Math.round(k)),a.is(".minicolors-grid")?f.stop(!0).animate({top:k+"px",left:j+"px"},l,e.animationEasing,function(){g(d,a)}):f.stop(!0).animate({top:k+"px"},l,e.animationEasing,function(){g(d,a)})}function g(a,b){function c(a,b){var c,d;return a.length&&b?(c=a.offset().left,d=a.offset().top,{x:c-b.offset().left+a.outerWidth()/2,y:d-b.offset().top+a.outerHeight()/2}):null}var d,e,f,g,i,k,l,m=a.val(),n=a.attr("data-opacity"),o=a.parent(),p=a.data("minicolors-settings"),r=o.find(".minicolors-input-swatch"),s=o.find(".minicolors-grid"),t=o.find(".minicolors-slider"),u=o.find(".minicolors-opacity-slider"),v=s.find("[class$=-picker]"),x=t.find("[class$=-picker]"),y=u.find("[class$=-picker]"),z=c(v,s),A=c(x,t),B=c(y,u);if(b.is(".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider")){switch(p.control){case"wheel":g=s.width()/2-z.x,i=s.height()/2-z.y,k=Math.sqrt(g*g+i*i),l=Math.atan2(i,g),0>l&&(l+=2*Math.PI),k>75&&(k=75,z.x=69-75*Math.cos(l),z.y=69-75*Math.sin(l)),e=q(k/.75,0,100),d=q(180*l/Math.PI,0,360),f=q(100-Math.floor(A.y*(100/t.height())),0,100),m=w({h:d,s:e,b:f}),t.css("backgroundColor",w({h:d,s:e,b:100}));break;case"saturation":d=q(parseInt(z.x*(360/s.width()),10),0,360),e=q(100-Math.floor(A.y*(100/t.height())),0,100),f=q(100-Math.floor(z.y*(100/s.height())),0,100),m=w({h:d,s:e,b:f}),t.css("backgroundColor",w({h:d,s:100,b:f})),o.find(".minicolors-grid-inner").css("opacity",e/100);break;case"brightness":d=q(parseInt(z.x*(360/s.width()),10),0,360),e=q(100-Math.floor(z.y*(100/s.height())),0,100),f=q(100-Math.floor(A.y*(100/t.height())),0,100),m=w({h:d,s:e,b:f}),t.css("backgroundColor",w({h:d,s:e,b:100})),o.find(".minicolors-grid-inner").css("opacity",1-f/100);break;default:d=q(360-parseInt(A.y*(360/t.height()),10),0,360),e=q(Math.floor(z.x*(100/s.width())),0,100),f=q(100-Math.floor(z.y*(100/s.height())),0,100),m=w({h:d,s:e,b:f}),s.css("backgroundColor",w({h:d,s:100,b:100}))}n=p.opacity?parseFloat(1-B.y/u.height()).toFixed(2):1,h(a,m,n)}else r.find("span").css({backgroundColor:m,opacity:n}),j(a,m,n)}function h(a,b,c){var d,e=a.parent(),f=a.data("minicolors-settings"),g=e.find(".minicolors-input-swatch");f.opacity&&a.attr("data-opacity",c),"rgb"===f.format?(d=r(b)?o(b,!0):z(n(b,!0)),c=""===a.attr("data-opacity")?1:q(parseFloat(a.attr("data-opacity")).toFixed(2),0,1),(isNaN(c)||!f.opacity)&&(c=1),b=a.minicolors("rgbObject").a<=1&&d&&f.opacity?"rgba("+d.r+", "+d.g+", "+d.b+", "+parseFloat(c)+")":"rgb("+d.r+", "+d.g+", "+d.b+")"):(r(b)&&(b=u(b)),b=m(b,f.letterCase)),a.val(b),g.find("span").css({backgroundColor:b,opacity:c}),j(a,b,c)}function i(b,c){var d,e,f,g,h,i,k,l,t,v,y=b.parent(),z=b.data("minicolors-settings"),A=y.find(".minicolors-input-swatch"),B=y.find(".minicolors-grid"),C=y.find(".minicolors-slider"),D=y.find(".minicolors-opacity-slider"),E=B.find("[class$=-picker]"),F=C.find("[class$=-picker]"),G=D.find("[class$=-picker]");switch(r(b.val())?(d=u(b.val()),h=q(parseFloat(s(b.val())).toFixed(2),0,1),h&&b.attr("data-opacity",h)):d=m(n(b.val(),!0),z.letterCase),d||(d=m(p(z.defaultValue,!0),z.letterCase)),e=x(d),g=z.keywords?a.map(z.keywords.split(","),function(b){return a.trim(b.toLowerCase())}):[],i=""!==b.val()&&a.inArray(b.val().toLowerCase(),g)>-1?m(b.val()):r(b.val())?o(b.val()):d,c||b.val(i),z.opacity&&(f=""===b.attr("data-opacity")?1:q(parseFloat(b.attr("data-opacity")).toFixed(2),0,1),isNaN(f)&&(f=1),b.attr("data-opacity",f),A.find("span").css("opacity",f),l=q(D.height()-D.height()*f,0,D.height()),G.css("top",l+"px")),"transparent"===b.val().toLowerCase()&&A.find("span").css("opacity",0),A.find("span").css("backgroundColor",d),z.control){case"wheel":t=q(Math.ceil(.75*e.s),0,B.height()/2),v=e.h*Math.PI/180,k=q(75-Math.cos(v)*t,0,B.width()),l=q(75-Math.sin(v)*t,0,B.height()),E.css({top:l+"px",left:k+"px"}),l=150-e.b/(100/B.height()),""===d&&(l=0),F.css("top",l+"px"),C.css("backgroundColor",w({h:e.h,s:e.s,b:100}));break;case"saturation":k=q(5*e.h/12,0,150),l=q(B.height()-Math.ceil(e.b/(100/B.height())),0,B.height()),E.css({top:l+"px",left:k+"px"}),l=q(C.height()-e.s*(C.height()/100),0,C.height()),F.css("top",l+"px"),C.css("backgroundColor",w({h:e.h,s:100,b:e.b})),y.find(".minicolors-grid-inner").css("opacity",e.s/100);break;case"brightness":k=q(5*e.h/12,0,150),l=q(B.height()-Math.ceil(e.s/(100/B.height())),0,B.height()),E.css({top:l+"px",left:k+"px"}),l=q(C.height()-e.b*(C.height()/100),0,C.height()),F.css("top",l+"px"),C.css("backgroundColor",w({h:e.h,s:e.s,b:100})),y.find(".minicolors-grid-inner").css("opacity",1-e.b/100);break;default:k=q(Math.ceil(e.s/(100/B.width())),0,B.width()),l=q(B.height()-Math.ceil(e.b/(100/B.height())),0,B.height()),E.css({top:l+"px",left:k+"px"}),l=q(C.height()-e.h/(360/C.height()),0,C.height()),F.css("top",l+"px"),B.css("backgroundColor",w({h:e.h,s:100,b:100}))}b.data("minicolors-initialized")&&j(b,i,f)}function j(a,b,c){var f,g,h,d=a.data("minicolors-settings"),e=a.data("minicolors-lastChange");if(!e||e.value!==b||e.opacity!==c){if(a.data("minicolors-lastChange",{value:b,opacity:c}),d.swatches&&0!==d.swatches.length){for(f=r(b)?o(b,!0):z(b),g=-1,h=0;h<d.swatches.length;++h)if(f.r===d.swatches[h].r&&f.g===d.swatches[h].g&&f.b===d.swatches[h].b&&f.a===d.swatches[h].a){g=h;break}a.parent().find(".minicolors-swatches .minicolors-swatch").removeClass("selected"),-1!==h&&a.parent().find(".minicolors-swatches .minicolors-swatch").eq(h).addClass("selected")}d.change&&(d.changeDelay?(clearTimeout(a.data("minicolors-changeTimeout")),a.data("minicolors-changeTimeout",setTimeout(function(){d.change.call(a.get(0),b,c)},d.changeDelay))):d.change.call(a.get(0),b,c)),a.trigger("change").trigger("input")}}function k(b){var c=n(a(b).val(),!0),d=z(c),e=a(b).attr("data-opacity");return d?(void 0!==e&&a.extend(d,{a:parseFloat(e)}),d):null}function l(b,c){var d=n(a(b).val(),!0),e=z(d),f=a(b).attr("data-opacity");return e?(void 0===f&&(f=1),c?"rgba("+e.r+", "+e.g+", "+e.b+", "+parseFloat(f)+")":"rgb("+e.r+", "+e.g+", "+e.b+")"):null}function m(a,b){return"uppercase"===b?a.toUpperCase():a.toLowerCase()}function n(a,b){return a=a.replace(/^#/g,""),a.match(/^[A-F0-9]{3,6}/gi)?3!==a.length&&6!==a.length?"":(3===a.length&&b&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),"#"+a):""}function o(a,b){var c=a.replace(/[^\d,.]/g,""),d=c.split(",");return d[0]=q(parseInt(d[0],10),0,255),d[1]=q(parseInt(d[1],10),0,255),d[2]=q(parseInt(d[2],10),0,255),d[3]&&(d[3]=q(parseFloat(d[3],10),0,1)),b?{r:d[0],g:d[1],b:d[2],a:d[3]?d[3]:null}:"undefined"!=typeof d[3]&&d[3]<=1?"rgba("+d[0]+", "+d[1]+", "+d[2]+", "+d[3]+")":"rgb("+d[0]+", "+d[1]+", "+d[2]+")"}function p(a,b){return r(a)?o(a):n(a,b)}function q(a,b,c){return b>a&&(a=b),a>c&&(a=c),a}function r(a){var b=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);return b&&4===b.length?!0:!1}function s(a){return a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+(\.\d{1,2})?|\.\d{1,2})[\s+]?/i),a&&6===a.length?a[4]:"1"}function t(a){var f,g,h,b={},c=Math.round(a.h),d=Math.round(255*a.s/100),e=Math.round(255*a.b/100);return 0===d?b.r=b.g=b.b=e:(f=e,g=(255-d)*e/255,h=(f-g)*(c%60)/60,360===c&&(c=0),60>c?(b.r=f,b.b=g,b.g=g+h):120>c?(b.g=f,b.b=g,b.r=f-h):180>c?(b.g=f,b.r=g,b.b=g+h):240>c?(b.b=f,b.r=g,b.g=f-h):300>c?(b.b=f,b.g=g,b.r=g+h):360>c?(b.r=f,b.g=g,b.b=f-h):(b.r=0,b.g=0,b.b=0)),{r:Math.round(b.r),g:Math.round(b.g),b:Math.round(b.b)}}function u(a){return a=a.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i),a&&4===a.length?"#"+("0"+parseInt(a[1],10).toString(16)).slice(-2)+("0"+parseInt(a[2],10).toString(16)).slice(-2)+("0"+parseInt(a[3],10).toString(16)).slice(-2):""}function v(b){var c=[b.r.toString(16),b.g.toString(16),b.b.toString(16)];return a.each(c,function(a,b){1===b.length&&(c[a]="0"+b)}),"#"+c.join("")}function w(a){return v(t(a))}function x(a){var b=y(z(a));return 0===b.s&&(b.h=360),b}function y(a){var b={h:0,s:0,b:0},c=Math.min(a.r,a.g,a.b),d=Math.max(a.r,a.g,a.b),e=d-c;return b.b=d,b.s=0!==d?255*e/d:0,b.h=0!==b.s?a.r===d?(a.g-a.b)/e:a.g===d?2+(a.b-a.r)/e:4+(a.r-a.g)/e:-1,b.h*=60,b.h<0&&(b.h+=360),b.s*=100/255,b.b*=100/255,b}function z(a){return a=parseInt(a.indexOf("#")>-1?a.substring(1):a,16),{r:a>>16,g:(65280&a)>>8,b:255&a}}a.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",dataUris:!0,defaultValue:"",format:"hex",hide:null,hideSpeed:100,inline:!1,keywords:"",letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default",swatches:[]}},a.extend(a.fn,{minicolors:function(f,g){switch(f){case"destroy":return a(this).each(function(){c(a(this))}),a(this);case"hide":return e(),a(this);case"opacity":return void 0===g?a(this).attr("data-opacity"):(a(this).each(function(){i(a(this).attr("data-opacity",g))}),a(this));case"rgbObject":return k(a(this),"rgbaObject"===f);case"rgbString":case"rgbaString":return l(a(this),"rgbaString"===f);case"settings":return void 0===g?a(this).data("minicolors-settings"):(a(this).each(function(){var b=a(this).data("minicolors-settings")||{};c(a(this)),a(this).minicolors(a.extend(!0,b,g))}),a(this));case"show":return d(a(this).eq(0)),a(this);case"value":return void 0===g?a(this).val():(a(this).each(function(){"object"==typeof g&&null!==typeof g?(g.opacity&&a(this).attr("data-opacity",q(g.opacity,0,1)),g.color&&a(this).val(g.color)):a(this).val(g),i(a(this))}),a(this));default:return"create"!==f&&(g=f),a(this).each(function(){b(a(this),g)}),a(this)}}}),a(document).on("mousedown.minicolors touchstart.minicolors",function(b){a(b.target).parents().add(b.target).hasClass("minicolors")||""}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(b){var c=a(this);b.preventDefault(),a(document).data("minicolors-target",c),f(c,b,!0)}).on("mousemove.minicolors touchmove.minicolors",function(b){var c=a(document).data("minicolors-target");c&&f(c,b)}).on("mouseup.minicolors touchend.minicolors",function(){a(this).removeData("minicolors-target")}).on("click.minicolors",".minicolors-swatches li",function(b){b.preventDefault();var c=a(this),d=c.parents(".minicolors").find(".minicolors-input"),e=c.data("swatch-color");h(d,e,s(e)),i(d)}).on("mousedown.minicolors touchstart.minicolors",".minicolors-input-swatch",function(b){var c=a(this).parent().find(".minicolors-input");b.preventDefault(),d(c)}).on("focus.minicolors",".minicolors-input",function(){var b=a(this);b.data("minicolors-initialized")&&d(b)}).on("blur.minicolors",".minicolors-input",function(){var d,e,f,g,h,b=a(this),c=b.data("minicolors-settings");b.data("minicolors-initialized")&&(d=c.keywords?a.map(c.keywords.split(","),function(b){return a.trim(b.toLowerCase())}):[],""!==b.val()&&a.inArray(b.val().toLowerCase(),d)>-1?h=b.val():(r(b.val())?f=o(b.val(),!0):(e=n(b.val(),!0),f=e?z(e):null),h=null===f?c.defaultValue:"rgb"===c.format?o(c.opacity?"rgba("+f.r+","+f.g+","+f.b+","+b.attr("data-opacity")+")":"rgb("+f.r+","+f.g+","+f.b+")"):v(f)),g=c.opacity?b.attr("data-opacity"):1,"transparent"===h.toLowerCase()&&(g=0),b.closest(".minicolors").find(".minicolors-input-swatch > span").css("opacity",g),b.val(h),""===b.val()&&b.val(p(c.defaultValue,!0)),b.val(m(b.val(),c.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(b){var c=a(this);if(c.data("minicolors-initialized"))switch(b.keyCode){case 9:return;case 13:case 27:return}}).on("keyup.minicolors",".minicolors-input",function(){var b=a(this);b.data("minicolors-initialized")&&i(b,!0)}).on("paste.minicolors",".minicolors-input",function(){var b=a(this);b.data("minicolors-initialized")&&setTimeout(function(){i(b,!0)},1)})});