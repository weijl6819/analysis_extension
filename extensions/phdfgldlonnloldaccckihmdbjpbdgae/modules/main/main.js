"use strict";infinity.modules.main={showSetting:function(){infinity.with("setting",".main-setting-content"),$(".main-menu").removeClass("slide-menu-selected"),$("#main-setting").addClass("slide-menu-selected"),$(".main-content").hide(),$(".main-setting-content").show()},showAdd:function(){infinity.require("/modules/main/add-library"),$(".main-menu").removeClass("slide-menu-selected"),$("#main-add").addClass("slide-menu-selected"),$(".main-content").hide(),$(".main-add-content").show()},show:function(i){$("#main-cover,#main-box").show(),$("#main-box").addClass("slide-show slide-box-shadow"),"main"==i?this.showAdd():"setting"==i&&this.showSetting(),infinityView.setIconAddingStatus(),infinity.sendMessage("checkInfinityVip")},hide:function(){$("#main-box").removeClass("slide-show slide-box-shadow"),$("#main-cover").hide(),$(".main-content").hide(),infinityView.setIconUnAddingStatus()},pickColor:function(i,n){var e=i;$("#infinityColorPicker");infinity.require("/lib/js/jquery.minicolors.min",function(){infinity.with("pickColor",function(t){e&&infinity.modules.pickColor.callbackPickerFn(i,n)})})},setReminTitle:function(){var i=infinity.get("infinity-user");if(!i.isLogin){return void $(".remind-pro-update").hide()}if(i.isLogin&&0==i["pro-expire-date"])if(i.ismannualclose)$(".remind-pro-update").hide();else{var n=infinity.i18n("renew_try_to_pro");$(".login-try-to-pro").html(n),$(".remind-pro-update").show()}},init:function(){var i=this,n=new Vue({el:"#main-title",data:{hintInDiscovery:!1,showDiscovery:infinity.isZh()||infinity.lang.indexOf("en")>=0}});window.shutdown2018NewYearActivity&&(n.hintInDiscovery=!0),$(document).on("click","#main-cover,.main-close",function(n){n.preventDefault(),i.hide()}),infinity.onMessage("settingVipDone",function(){var n=infinity.get("infinity-user");n.isVipMember?($(".remind-pro-update").hide(),n.ismannualclose=!0,infinity.set("infinity-user",n)):($(".remind-pro-update").show(),n.ismannualclose=!1,infinity.set("infinity-user",n)),i.setReminTitle()});var e=infinity.get("infinity-user");i.setReminTitle(),$(".remind-pro-update").on("click",".go-update-pro",function(){infinity.get("infinity-user").isLogin;infinity.with("login",function(i){i.show()})}),$(".remind-pro-update").on("click",".renew-update-pro",function(){}),$(".remind-pro-update-close").on("click",function(){void 0,$(".remind-pro-update").hide(),e.ismannualclose=!0,infinity.set("infinity-user",e)}),$(document).on("transitionend","#main-box",function(i){i.preventDefault(),"main-box"==i.target.id&&(i.target.className.indexOf("slide-show")>=0?(infinity.with("my-user-sync",".main-my-content"),infinity.with("my-wallpaper",".main-my-content"),infinity.with("discover",".main-discover-content"),infinity.with("setting",".main-setting-content")):infinity.with("add-custom",function(i){i.hide()}))}),$(document).on("click","#main-my",function(i){i.preventDefault(),infinity.sendMessage("sendGa",{category:"sideTab",event:"click",label:"mySideTab"}),$(".main-menu").removeClass("slide-menu-selected"),$("#main-my").addClass("slide-menu-selected"),$(".main-content").hide(),$(".main-my-content").show(),infinity.with("my-user-sync",".main-my-content"),infinity.with("my-wallpaper",".main-my-content")}),$(document).on("click","#main-discover",function(i){i.preventDefault(),n.hintInDiscovery=!1,window.shutdown2018NewYearActivity&&window.shutdown2018NewYearActivity(),infinity.sendMessage("sendGa",{category:"sideTab",event:"click",label:"discoverySideTab"}),$(".main-menu").removeClass("slide-menu-selected"),$("#main-discover").addClass("slide-menu-selected"),$(".main-content").hide(),$(".main-discover-content").show(),infinity.with("discover",".main-discover-content")}),$(document).on("click","#main-setting",function(n){n.preventDefault(),infinity.sendMessage("sendGa",{category:"sideTab",event:"click",label:"settingSideTab"}),i.showSetting()}),$(document).on("click","#main-add",function(n){n.preventDefault(),infinity.sendMessage("sendGa",{category:"sideTab",event:"click",label:"addSideTab"}),i.showAdd(),infinityView.setIconAddingStatus()});var t=infinity.get("infinity-settings").settingLeftSlideZoom/100;$(".sildeBox").css("zoom",t)}},infinity.modules.main.init();