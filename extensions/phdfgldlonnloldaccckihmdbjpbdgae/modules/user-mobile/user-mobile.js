infinity.modules["user-mobile"]=new Vue({el:"#user-mobile",data:{uid:"",secret:"",mobileUid:"",visible:!1},computed:{qrcode:function(){return this.uid&&this.secret?infinity.url+"user/user_qr?uid="+this.uid+"&secret="+this.secret:null}},methods:{show:function(){var i=this,e=infinity.get("infinity-user");i.uid=e.uid,i.secret=e.secret,i.visible=!0,(i.mobileUid=infinity.get("infinity-mobile-uid"))||$.ajax({url:infinity.url+"user/user_hash",dataType:"json",data:{uid:e.uid,secret:e.secret}}).done(function(e){if(200===e.status){var t=e.msg.mobileuid;infinity.set("infinity-mobile-uid",t),i.mobileUid=t}})},hide:function(){this.visible=!1}}});