!function(){"use strict";window.addSetting=new Vue({el:"#add-setting",created:function(){var i=this;this.colorNum=i.computedColorIndex(),infinity.onMessage("settingDone",function(t){i.settings=infinity.get("infinity-settings")}),infinity.onMessage("settingVipDone",function(t){void 0,i.userInfo=infinity.get("infinity-user")}),infinity.onMessage("reLayout",function(t){i.settings=infinity.get("infinity-settings")}),infinity.onBroadcast("loadIconSetting",function(){i.settings=infinity.get("infinity-settings"),infinity.setIconStyle(i.settings)}),infinity.onMessage("settingSearchStyleBoxShadow",function(){i.settings=infinity.get("infinity-settings");var t;t=i.settings.searchBoxShadow,infinity.setSearch(void 0,void 0,void 0,void 0,void 0,t,void 0)}),infinity.onMessage("settingShowRandowWallpaperBtn",function(){i.settings=infinity.get("infinity-settings"),infinity.setisShowRandowWallpaperBtn(i.settings.isShowRandomWallpaperBtn)}),infinity.onMessage("SetShowTopBookMarks",function(){i.settings=infinity.get("infinity-settings"),infinity.isShowloadTopSites("bookmarks",i.settings.isShowTopBookMarks,!1)}),infinity.onMessage("setTodoNumberDone",function(){i.settings=infinity.get("infinity-settings"),infinityView.setToDonumbers()}),infinity.onMessage("setShowTopSites",function(){i.settings=infinity.get("infinity-settings"),infinity.isShowloadTopSites("mostvisited",i.settings.isShowtopSites,!1)}),infinity.onMessage("settingMinModeDone",function(){i.settings=infinity.get("infinity-settings"),infinity.setMinimalistMode(i.settings.isMinimalistMode)}),infinity.onMessage("settingZoomDone",function(){i.settings=infinity.get("infinity-settings"),infinity.zoom(i.settings.settingMainZoom)}),infinity.onMessage("resetSettingDone",function(){i.settings=infinity.get("infinity-settings"),i.colorNum=0,initIcon()}),infinity.onMessage("settingSearchStyle",function(t){i.settings=infinity.get("infinity-settings");var n,e,o,s,a,f,g;t[0]&&(n=i.settings.isShowSearchBox),t[1]&&(e=i.settings.isShowSearchBtn),t[2]&&(o=i.settings.searchBoxRadius),t[3]&&(s=i.settings.searchBoxOpacity),t[4]&&(a=i.settings.isShowSearchType),t[5]&&(f=i.settings.searchBoxShadow),t[6]&&(g=i.settings.Searchboxsize),infinity.setSearch(n,e,o,s,a,f,g)}),infinity.onMessage("reSetting",function(){i.settings=infinity.get("infinity-settings")})},data:{searchBorderShadow:0,IconBorderRadiusAdd:100,colorNum:0,settings:infinity.get("infinity-settings"),zoomValueObj:{150:{add:0,reduce:25},125:{add:25,reduce:15},110:{add:15,reduce:10},100:{add:10,reduce:10},90:{add:10,reduce:10},80:{add:10,reduce:5},75:{add:5,reduce:8},67:{add:8,reduce:17},50:{add:17,reduce:0}},fontColors:["#dddddd","#2989fd","#ff9800","#ffeb3b","#4caf50","#00bcd4","#2196f3","#673ab7","transparent"],settingItemNumberArray:[[{row:2,column:4},{row:2,column:5},{row:2,column:6}],[{row:2,column:7},{row:3,column:3},{row:3,column:4}],[{row:3,column:5},{row:3,column:6},{row:3,column:7}]],userInfo:infinity.get("infinity-user")},ready:function(){this.initColor()},methods:{searchBorderShadowChange:function(){},settingChange:function(i){var t=this;"isShowTopBookMarks"!==i||t.settings.isShowTopBookMarks?"isOpentGmailNotication"!==i||t.settings.isOpentGmailNotication?infinity.sendMessage("onSettingChange",{option:i}):infinity.requestPermission(["notifications"]).then(function(){infinity.sendMessage("onSettingChange",{option:i})},function(){t.settings.isOpentGmailNotication=!1}):infinity.requestPermission(["bookmarks"]).then(function(){infinity.sendMessage("onSettingChange",{option:i})},function(){t.settings.isShowTopBookMarks=!1})},setlayout:function(i,t){infinity.sendMessage("setLayout",{column:i,row:t})},settingMainZoomFn:function(i){var t,n=this.settings.settingMainZoom;0==i&&(t=n-this.zoomValueObj[n].reduce),1==i&&(t=n+this.zoomValueObj[n].add),infinity.sendMessage("onSetingChangeValue",{option:"settingMainZoom",value:t}),window.globalMainZoomSize=t},settingZommLeftSlide:function(i){var t=this.settings.settingLeftSlideZoom;"string"==typeof t&&(t=parseFloat(t));var n;0==i&&(n=t-this.zoomValueObj[t].reduce),1==i&&(n=t+this.zoomValueObj[t].add),$(".sildeBox").css("zoom",n/100),infinity.setting("settingLeftSlideZoom",n),infinity.sendMessage("onSetingChangeValue",{option:"settingLeftSlideZoom",value:n})},settingChangeFn:function(i){infinity.sendMessage("onSetingChangeValue",{option:i,value:this.settings[i]})},IconBorderRadiusChange:function(){infinity.setIconStyle(this.settings),infinity.broadcast("loadIconSetting"),infinity.sendMessage("autoBackup",{type:"data"})},IconBorderChangeDone:function(i){infinity.setting("iconBorderRadius",this.settings.iconBorderRadius),infinity.broadcast("loadIconSetting"),infinity.sendMessage("autoBackup",{type:"data"})},fontSizeChange:function(){infinity.setIconStyle(this.settings),infinity.broadcast("loadIconSetting"),infinity.sendMessage("autoBackup",{type:"data"})},settingfontSizeDone:function(i){infinity.setting("fontSize",this.settings.fontSize),infinity.broadcast("loadIconSetting"),infinity.sendMessage("autoBackup",{type:"data"})},iconOpacityChange:function(){infinity.setIconStyle(this.settings),infinity.broadcast("loadIconSetting"),infinity.sendMessage("autoBackup",{type:"data"})},iconOpacityChangeDone:function(){infinity.setting("iconOpacity",this.settings.iconOpacity),infinity.broadcast("loadIconSetting"),infinity.sendMessage("autoBackup",{type:"data"})},iconShadowChange:function(){this.settings.isShowIconShadow=!this.settings.isShowIconShadow,infinity.setting("isShowIconShadow",this.settings.isShowIconShadow),infinity.setIconStyle(this.settings),infinity.broadcast("loadIconSetting"),infinity.sendMessage("autoBackup",{type:"data"})},setFontColor:function(i,t,n){t&&(0==n&&(t="rgba(255,255,255,0.8)"),this.settings.fontColor=t,infinity.setting("fontColor",this.settings.fontColor),infinity.setIconStyle(this.settings)),this.colorNum=n,infinity.broadcast("loadIconSetting"),infinity.sendMessage("autoBackup",{type:"data"})},fontShadowChange:function(){this.settings.isOpenFontShadow=!this.settings.isOpenFontShadow,infinity.setting("isOpenFontShadow",this.settings.isOpenFontShadow),infinity.setIconStyle(this.settings),infinity.broadcast("loadIconSetting"),infinity.sendMessage("autoBackup",{type:"data"})},settingChangeSearch:function(i){infinity.sendMessage("onSetingChangeSearch",{option:i,value:this.settings[i]})},searchBorderRadisChange:function(){var i,t;t=this.settings.searchBoxRadius,i=this.settings.isShowSearchBtn,infinity.setSearch(void 0,i,t,void 0,void 0,void 0,void 0),infinity.sendMessage("autoBackup",{type:"data"})},settingChangeSearchDone:function(i){infinity.sendMessage("onSetingChangeSearch",{option:i,value:this.settings[i]})},searchBoxSizeChange:function(){var i;i=this.settings.Searchboxsize,infinity.setSearch(void 0,void 0,void 0,void 0,void 0,void 0,i),infinity.sendMessage("autoBackup",{type:"data"})},searchBoxOpacityChange:function(){var i;i=this.settings.searchBoxOpacity,infinity.setSearch(void 0,void 0,void 0,i,void 0,void 0,void 0),infinity.sendMessage("autoBackup",{type:"data"})},resetSettings:function(){infinity.sendMessage("onResetSettings")},computedColorIndex:function(){if("#fff"==this.settings.fontColor.toLowerCase()||"#ffffff"==this.settings.fontColor.toLowerCase()||"rgba(255,255,255,0.8)"==this.settings.fontColor)return 0;var i=this.fontColors.indexOf(this.settings.fontColor);return-1==i&&(i=this.fontColors.length-1),i},callbackSetFontColor:function(i){var t=JSON.parse(JSON.stringify(this.settings));t.fontColor=i,infinity.setIconStyle(t)},callbackOkBtn:function(i){this.settings.fontColor=i,infinity.setting("fontColor",this.settings.fontColor),infinity.setIconStyle(this.settings),infinity.broadcast("loadIconSetting")},callbackCancelColor:function(){var i=this.settings.fontColor,t=this.fontColors.indexOf(i);this.colorNum=-1!=t?t:8,this.callbackSetFontColor(i),"#fff"!=i.toLowerCase()&&"#ffffff"!=i.toLowerCase()&&"rgba(255,255,255,0.8)"!=i.toLowerCase()||(this.colorNum=0)},initColor:function(){var i=this.settings.fontColor;-1==this.fontColors.indexOf(i)&&(this.fontColors[this.fontColors.length-1]=i)},initPickColor:function(i,t){var n={callbackFn:this.callbackSetFontColor,callbackBgFn:this.callbackOkBtn,calllbackCancel:this.callbackCancelColor,color:this.fontColors[this.fontColors.length-1],zoom:this.settings.settingLeftSlideZoom};this.setFontColor(i,"",t),infinity.modules.main.pickColor(i,n)}}})}();