"use strict";var bgSearchServer={init:function(){var e=this;infinity.init("infinity-search-server",{name:"hongkong",time:0}),void 0,setTimeout(function(){e.testServer()},1e3)},time:{hongkong:0,"north-america":0,europe:0},testServer:function(){var e=this;e.time.hongkong=0,e.time["north-america"]=0,e.time.europe=0,e.test3("hongkong",function(){e.test3("north-america",function(){e.test3("europe",function(){var t=[{name:"hongkong",time:parseInt(e.time.hongkong/3)},{name:"north-america",time:parseInt(e.time["north-america"]/3)},{name:"europe",time:parseInt(e.time.europe/3)}],n=t[0];try{var i=[t[0].time,t[1].time,t[2].time],o=Math.min.apply(Math,i);n=t[i.indexOf(o)]}catch(e){n={name:"hongkong",time:0},void 0}void 0,infinity.set("infinity-search-server",n)})})})},test3:function(e,t){var n=this;n.testSpeed(e,function(i){n.testSpeed(e,function(i){n.time[e]+=i,n.testSpeed(e,function(i){n.time[e]+=i,n.testSpeed(e,function(i){n.time[e]+=i,t&&t()})})})})},testSpeed:function(e,t){var n={hongkong:"https://hongkong-search.infinitynewtab.com/test?randt="+(new Date).getTime(),"north-america":"https://north-america-search.infinitynewtab.com/test?randt="+(new Date).getTime(),europe:"https://europe-search.infinitynewtab.com/test?randt="+(new Date).getTime()},i=(new Date).getTime();$.ajax({url:n[e],type:"GET",dataType:"json",timeout:1e4}).done(function(e){var n=(new Date).getTime()-i;t&&t(n)}).fail(function(){t&&t(1e4)})}};