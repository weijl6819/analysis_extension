var _edit={obj:null,init:function(){var e=this;$(document).on("click",".home-content",function(i){if(e.isEdit){var n=i.target.className;n.indexOf("home-point")>=0&&"home-point-out"!=n||_edit.end()}}),$(document).on("click",".home-icon-delete-bu",function(e){e.preventDefault(),e.stopPropagation();var i=$(this).parents(".home-page").index()-1,n=$(this).parents(".home-icon").index();_edit.delete($(this).parents(".home-icon"),i,n)}),$(document).on("click",".home-icon-edit",function(e){e.preventDefault(),e.stopPropagation();var i=e.target.parentNode,n=decodeURIComponent(i.getAttribute("icon-data")),t=JSON.parse(n),o=$(i).css("background-image").replace("url(","").replace(")","").replace(/\"/gi,"");t.src=o;var a=$(this).parents(".home-page").index()-1,s=$(this).parents(".home-icon").index();_edit.edit(t,a,s)})},isEdit:!1,start:function(){$(".home-icon").addClass("home-icon-shake"),this.isEdit=!0},end:function(){$(".home-icon").removeClass("home-icon-shake"),this.isEdit=!1},edit:function(e,i,n){try{infinity.with("edit",function(t){t.show({icon:e,page:i,iconIndex:n})})}catch(e){void 0}},delete:function(e,i,n){void 0;e.removeClass("home-icon-shake"),e.addClass("home-icon-sclae-hide");var t=infinity.get("infinity-icons");t[i][n].name;t[i].splice(n,1),0==t[i].length&&t.splice(i,1),infinity.set("infinity-icons",t),e.one("animationend webkitAnimationEnd",function(n){1==$(e).parents(".home-page").children(".home-icon").length?0==t.length?loadIcons():0==i?($(".home-main-box").css({"-webkit-transform":"translate(0,0)",transform:"translate(0,0)"}),infinity.desktop=1,loadIcons(),_edit.start(),infinity.setPoint(t.length)):infinityView.slideToPage(i,!0,function(){loadIcons(),_edit.start()}):$(e).remove()}),infinity.broadcast("deleteDone")}};_edit.init();