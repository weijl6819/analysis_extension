let TRstaticjsmsg_type=function(e){return"object"==typeof e&&(e.exports={CODE_STANDARDS:"code_standards",FCP_HELPER_INIT:"fcp_helper_init",FCP_HELPER_DETECT:"fcp_helper_detect",GET_CSS:"get-css",GET_JS:"get-js",GET_HTML:"get-html",GET_COOKIE:"get-cookie",REMOVE_COOKIE:"remove-cookie",SET_COOKIE:"set-cookie",CSS_READY:"css-ready",JS_READY:"js-ready",HTML_READY:"html-ready",ALL_READY:"all-ready",GET_OPTIONS:"get_options",SET_OPTIONS:"set_options",MENU_SAVED:"menu_saved",START_OPTION:"start-option",OPT_START_FCP:"opt-item-fcp",CALC_PAGE_LOAD_TIME:"calc-page-load-time",GET_PAGE_WPO_INFO:"get_page_wpo_info",SHOW_PAGE_LOAD_TIME:"show-page-load-time",TAB_CREATED_OR_UPDATED:"tab_created_or_updated",REGEXP_TOOL:"regexp",EN_DECODE:"en-decode",JSON_FORMAT:"json-format",QR_CODE:"qr-code",CODE_BEAUTIFY:"code-beautify",JS_CSS_PAGE_BEAUTIFY:"JS_CSS_PAGE_BEAUTIFY",JS_CSS_PAGE_BEAUTIFY_REQUEST:"JS_CSS_PAGE_BEAUTIFY_REQUEST",CODE_COMPRESS:"code-compress",TIME_STAMP:"timestamp",IMAGE_BASE64:"image-base64",RANDOM_PASSWORD:"password",QR_DECODE:"qr-decode",JSON_COMPARE:"json-diff",JSON_PAGE_FORMAT:"JSON_PAGE_FORMAT",JSON_PAGE_FORMAT_REQUEST:"JSON_PAGE_FORMAT_REQUEST",COLOR_PICKER:"color-picker:newImage",SHOW_COLOR_PICKER:"show_color_picker",AJAX_DEBUGGER:"ajax-debugger",AJAX_DEBUGGER_CONSOLE:"ajax-debugger-console",AJAX_DEBUGGER_SWITCH:"ajax-debugger-switch",HTML_TO_MARKDOWN:"html2markdown",PAGE_CAPTURE:"page-capture",PAGE_CAPTURE_SCROLL:"page_capture_scroll",PAGE_CAPTURE_CAPTURE:"page_capture_capture",STICKY_NOTES:"sticky-notes",DEV_TOOLS:"dev-tools",OPEN_OPTIONS_PAGE:"open-options-page"}),e.exports}({exports:{}});new Vue({el:"#pageContainer",data:{textContent:"",qrSize:200,qrColor:"#000000",useIcon:"no"},mounted:function(){chrome.runtime.onMessage.addListener((e,t,o)=>{let _=TRstaticjsmsg_type;e.type===_.TAB_CREATED_OR_UPDATED&&e.event===_.QR_CODE&&e.content&&(this.textContent=e.content,this.convert())}),this.$refs.codeSource.focus(),document.addEventListener("drop",e=>{e.preventDefault(),e.stopPropagation();let t=e.dataTransfer.files;t.length&&this._drawIcon(t[0])},!1),document.addEventListener("dragover",e=>{e.preventDefault(),e.stopPropagation()},!1),$("#opt_fc").colorpicker({fillcolor:!0,success:(e,t)=>{this.qrColor=t,this.convert()}})},methods:{convert:function(){this.$nextTick(()=>{this.textContent?$("#preview").html("").qrcode(this._createOptions()):$("#preview").html("再在输入框里输入一些内容，就能生成二维码了哦~")})},fileChanged:function(e){e.target.files.length&&(this._drawIcon(e.target.files[0]),e.target.value="")},_drawIcon:function(e){if(/image\//.test(e.type)){this.useIcon="custom";let t=new FileReader;t.onload=(e=>{this.$refs.logoCustom.src=e.target.result,this.convert()}),t.readAsDataURL(e)}else alert("请选择图片文件！")},_createOptions:function(){let e={render:"canvas",minVersion:1,maxVersion:40,ecLevel:"L",left:0,top:0,size:+this.qrSize||200,fill:this.qrColor,background:"#fff",radius:0,quiet:0,text:this.textContent,mode:0,mSize:.15,mPosX:.5,mPosY:.5,label:"FH",fontname:"sans",fontcolor:"#f00",image:!1};switch(this.useIcon){case"default":e.mode=4,e.image=this.$refs.logoDefault;break;case"custom":e.mode=4,e.image=this.$refs.logoCustom}return e}}});