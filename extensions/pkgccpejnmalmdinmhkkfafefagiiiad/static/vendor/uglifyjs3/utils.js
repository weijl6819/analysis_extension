"use strict";function characters(t){return t.split("")}function member(t,r){return 0<=r.indexOf(t)}function find_if(t,r){for(var n=0,e=r.length;n<e;++n)if(t(r[n]))return r[n]}function repeat_string(t,r){if(0>=r)return"";if(1==r)return t;var n=repeat_string(t,r>>1);return n+=n,1&r&&(n+=t),n}function configure_error_stack(t){Object.defineProperty(t.prototype,"stack",{get:function(){var t=new Error(this.message);t.name=this.name;try{throw t}catch(t){return t.stack}}})}function DefaultsError(t,r){this.message=t,this.defs=r}function defaults(t,r,n){!0===t&&(t={});var e=t||{};if(n)for(var i in e)HOP(e,i)&&!HOP(r,i)&&DefaultsError.croak("`"+i+"` is not a supported option",r);for(var i in r)HOP(r,i)&&(e[i]=t&&HOP(t,i)?t[i]:r[i]);return e}function merge(t,r){var n=0;for(var e in r)HOP(r,e)&&(t[e]=r[e],n++);return n}function noop(){}function return_false(){return!1}function return_true(){return!0}function return_this(){return this}function return_null(){return null}DefaultsError.prototype=Object.create(Error.prototype),DefaultsError.prototype.constructor=DefaultsError,DefaultsError.prototype.name="DefaultsError",configure_error_stack(DefaultsError),DefaultsError.croak=function(t,r){throw new DefaultsError(t,r)};var MAP=function(){function t(t,s,u){function o(){var o=s(t[a],a),l=o instanceof e;return l&&(o=o.v),o instanceof r?(o=o.v)instanceof n?c.push.apply(c,u?o.v.slice().reverse():o.v):c.push(o):o!==i&&(o instanceof n?f.push.apply(f,u?o.v.slice().reverse():o.v):f.push(o)),l}var a,f=[],c=[];if(t instanceof Array)if(u){for(a=t.length;0<=--a&&!o(););f.reverse(),c.reverse()}else for(a=0;a<t.length&&!o();++a);else for(a in t)if(HOP(t,a)&&o())break;return c.concat(f)}function r(t){this.v=t}function n(t){this.v=t}function e(t){this.v=t}t.at_top=function(t){return new r(t)},t.splice=function(t){return new n(t)},t.last=function(t){return new e(t)};var i=t.skip={};return t}();function push_uniq(t,r){0>t.indexOf(r)&&t.push(r)}function string_template(t,r){return t.replace(/\{(.+?)\}/g,function(t,n){return r&&r[n]})}function remove(t,r){for(var n=t.length;0<=--n;)t[n]===r&&t.splice(n,1)}function mergeSort(t,r){return 2>t.length?t.slice():function t(n){if(1>=n.length)return n;var e=Math.floor(n.length/2),i=n.slice(0,e),s=n.slice(e);return function(t,n){for(var e=[],i=0,s=0,u=0;i<t.length&&s<n.length;)e[u++]=0>=r(t[i],n[s])?t[i++]:n[s++];return i<t.length&&e.push.apply(e,t.slice(i)),s<n.length&&e.push.apply(e,n.slice(s)),e}(i=t(i),s=t(s))}(t)}function makePredicate(t){function r(t){return JSON.stringify(t).replace(/[\u2028\u2029]/g,function(t){return"\u2028"===t?"\\u2028":"\u2029"===t?"\\u2029":t})}function n(t){if(1==t.length)return e+="return str === "+r(t[0])+";";e+="switch(str){";for(var n=0;n<t.length;++n)e+="case "+r(t[n])+":";e+="return true}return false;"}t instanceof Array||(t=t.split(" "));var e="",i=[];t:for(var s=0;s<t.length;++s){for(var u=0;u<i.length;++u)if(i[u][0].length==t[s].length){i[u].push(t[s]);continue t}i.push([t[s]])}if(3<i.length){i.sort(function(t,r){return r.length-t.length}),e+="switch(str.length){";var o;for(s=0;s<i.length;++s)o=i[s],e+="case "+o[0].length+":",n(o);e+="}"}else n(t);return new Function("str",e)}function all(t,r){for(var n=t.length;0<=--n;)if(!r(t[n]))return!1;return!0}function Dictionary(){this._values=Object.create(null),this._size=0}function HOP(t,r){return Object.prototype.hasOwnProperty.call(t,r)}function first_in_statement(t){for(var r,n=t.parent(-1),e=0;r=t.parent(e);e++){if(r instanceof AST_Statement&&r.body===n)return!0;if(!(r instanceof AST_Sequence&&r.expressions[0]===n||"Call"==r.TYPE&&r.expression===n||r instanceof AST_Dot&&r.expression===n||r instanceof AST_Sub&&r.expression===n||r instanceof AST_Conditional&&r.condition===n||r instanceof AST_Binary&&r.left===n||r instanceof AST_UnaryPostfix&&r.expression===n))return!1;n=r}}Dictionary.prototype={set:function(t,r){return this.has(t)||++this._size,this._values["$"+t]=r,this},add:function(t,r){return this.has(t)?this.get(t).push(r):this.set(t,[r]),this},get:function(t){return this._values["$"+t]},del:function(t){return this.has(t)&&(--this._size,delete this._values["$"+t]),this},has:function(t){return"$"+t in this._values},each:function(t){for(var r in this._values)t(this._values[r],r.substr(1))},size:function(){return this._size},map:function(t){var r=[];for(var n in this._values)r.push(t(this._values[n],n.substr(1)));return r},clone:function(){var t=new Dictionary;for(var r in this._values)t._values[r]=this._values[r];return t._size=this._size,t},toObject:function(){return this._values}},Dictionary.fromObject=function(t){var r=new Dictionary;return r._size=merge(r._values,t),r};