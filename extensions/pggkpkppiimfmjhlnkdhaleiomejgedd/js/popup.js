chrome.storage.local.get({store:{mode:'popup'}},(a)=>{const b=a.store.mode||'popup';if('popup'===b)window.runVlcApp();else if('sidebar'===b)chrome.tabs.query({active:!0,currentWindow:!0},(a)=>{a&&a[0].id?chrome.tabs.sendMessage(a[0].id,{action:'openAppInSidebar'}):chrome.runtime.sendMessage({action:'openAppInWindow'}),window.close()});else if('window'===b){const a=+localStorage.activeWindowId;a?chrome.windows.update(a,{focused:!0}):chrome.runtime.sendMessage({action:'openAppInWindow'}),window.close()}});